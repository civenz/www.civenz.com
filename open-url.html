<!DOCTYPE html>
<html>
<head>
<meta charset='UTF-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge, chrome=1'>
<meta name='viewport' content='width=device-width, user-scalable=no, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0'>
<meta http-equiv='cache' content='no-cache'>
<meta http-equiv='expires' content='0'>
<meta http-equiv='pragma' content='no-cache'>
<meta http-equiv='cache-control' content='no-store, no-cache, must-revalidate'>
<title>批量打开链接</title>
</head>

<style>
:root, html, body {
  outline: none;
  margin: 0;
  border: 0;
  padding: 0;
}
</style>

<body>

<div style="border-bottom: 1px solid #ccc; padding: 4px 0; margin-bottom: 4px; background: #f2f2f2;">
  <button onclick="location.reload(true);">刷新当前页</button>
  <button onclick="open_urls();">打开链接</button>
  <input type="radio" name="protocol" value="0" checked>完整链接
  <input type="radio" name="protocol" value="1">无 http(s)://

</div>
<textarea name="urls" id="urls" cols="80" rows="10">
www.baidu.com
qq.com
</textarea>

<script type="text/javascript">
function open_urls() {
  let urls = document.getElementById("urls").value;
  let url = "";

  let protocol = document.getElementsByName("protocol");
  let noprotocol = false;

  for(let i = 0; i < protocol.length; i++) {
    if (protocol[i].value == 1) {
      if(protocol[i].checked) noprotocol = true;
    }
  }

  console.log(noprotocol);

  urls = urls.split("\n");
  urls = urls.filter(function(e){return e}); //删除空元素

  console.log(urls);
  for(let i = 0; i < urls.length; i++) {

    if(noprotocol) {
      url = '//' + urls[i].trim().replace(/^http(s)?:\/\//,'');
    } else {
      url = urls[i].trim();
    }

    console.log(url);

    window.open( url, '_blank').location;
  }
}
</script>

</body>
</html>